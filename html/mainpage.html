<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Luna</title>
  <link rel="stylesheet" href="../css/theme.css">
  <link rel="stylesheet" href="../css/layout.css">
</head>
<body>
  <!-- Main Menu Page -->
  <div id="mainMenuPage" class="page-container">
    <div class="main-menu-header">
      <h1 id="lunaTitle">Luna</h1>
      <button id="openSettingsButton" class="icon-button settings-icon">‚öôÔ∏è</button>
    </div>
    <div class="menu-options">
      <button id="openQuoteCalculator" class="menu-button">Quote Calculator</button>
      <button id="openRecordLogButton" class="menu-button">üìã Record Log</button>
      <!-- Potentially more menu options here later -->
    </div>
  </div>

  <!-- Quote Calculator Page (initially hidden) -->
  <div id="quoteCalculatorPage" class="page-container hidden">
    <div class="calculator-header">
      <h1>Quote Calculator</h1>
      <button id="backToMenu" class="back-button">‚Üê Back</button>
    </div>

    <!-- Company Name (ALWAYS VISIBLE) -->
    <div id="companyNameGroup" class="input-group">
      <label for="companyNameInput">Company Name:</label>
      <input type="text" id="companyNameInput">
    </div>

    <!-- ERP Link (Hidden by default, toggled by Advanced Mode) -->
    <div id="erpLinkGroup" class="input-group hidden">
      <label for="erpLinkInput">ERP Link:</label>
      <input type="text" id="erpLinkInput">
    </div>

    <div class="input-group">
      <label for="lastYearPrice">Last Year Price:</label>
      <input type="text" id="lastYearPrice" inputmode="decimal">
    </div>

    <div class="input-group">
      <label for="msrpTotal">MSRP Total (No Discounts & No Integrations Cost):</label>
      <input type="text" id="msrpTotal" inputmode="decimal">
    </div>

    <div class="integrations-section">
      <label>Integrations?</label>
      <div class="integration-buttons">
        <button id="integrationsYes" class="integration-button" data-value="yes">Yes</button>
        <button id="integrationsNo" class="integration-button selected" data-value="no">No</button>
      </div>
    </div>

    <!-- Discount or Increase? -->
    <div class="discount-increase-section">
      <label>Discount or Increase?</label>
      <div class="discount-increase-buttons">
        <button id="discountBtn" class="integration-button" data-value="discount">Discount (disabled)</button>
        <button id="increaseBtn" class="integration-button" data-value="increase">Increase</button>
      </div>
    </div>

    <!-- Conditional Fields for Discount (initially hidden) -->
    <div id="discountFields" class="conditional-fields hidden">
      <div class="input-group">
        <label for="discountPercentage">Discount Percentage (%):</label>
        <input type="number" id="discountPercentage" value="0" min="0" max="100">
      </div>
      <!-- Placeholder for more discount related fields later -->
    </div>

    <!-- Conditional Fields for Increase (initially hidden) -->
    <div id="increaseFields" class="conditional-fields hidden">
      <div class="input-group">
        <label for="increasePercentage">Increase Percentage (%):</label>
        <input type="text" id="increasePercentage" value="5.00%" min="0" max="1000" inputmode="decimal">
      </div>

      <!-- Display boxes for Increase calculations -->
      <div id="integrationsCostDisplay" class="display-group hidden">
        <label>Integrations Cost:</label>
        <div class="display-box" id="integrationsCostValue">$0.00</div>
      </div>

      <div id="discountForErpDisplay" class="display-group hidden">
        <label>Discount for ERP:</label>
        <div class="display-box" id="discountForErpValue">0.00%</div>
      </div>

      <!-- Total End Price Display Box -->
      <div id="totalEndPriceDisplay" class="display-group hidden">
        <label>Total End Price:</label>
        <div class="display-box" id="totalEndPriceValue">$0.00</div>
      </div>
      <!-- Placeholder for more increase related fields later -->
    </div>

    <!-- Notes Section (Added) -->
    <div class="input-group">
        <label for="notesInput">Notes:</label>
        <textarea id="notesInput" rows="4"></textarea>
    </div>


  </div>

  <!-- Settings Page -->
  <div id="settingsPage" class="page-container hidden">
    <div class="calculator-header">
      <h1>Settings</h1>
      <button id="backToMenuFromSettings" class="back-button">‚Üê Back</button>
    </div>

    <div class="settings-group card">
      <label>Magnification</label>
      <div class="magnification-options">
        <!-- Updated step for 5% increments -->
        <input type="range" id="zoomSlider" min="0.7" max="1.5" step="0.05" value="1.0">
        <span id="zoomValueDisplay">100%</span>
      </div>
    </div>

    <!-- Luna Text Visibility Toggle -->
    <div class="settings-group card">
      <label>Luna Title Visibility</label>
      <div class="toggle-buttons">
        <button id="lunaTitleVisible" class="toggle-button selected" data-value="visible">Visible</button>
        <button id="lunaTitleHidden" class="toggle-button" data-value="hidden">Hidden</button>
      </div>
    </div>

    <!-- Advanced Mode Toggle -->
    <div class="settings-group card">
      <label>Advanced Mode</label>
      <div class="toggle-buttons">
        <button id="advancedModeEnabledBtn" class="toggle-button" data-value="enabled">Enabled</button>
        <button id="advancedModeDisabledBtn" class="toggle-button selected" data-value="disabled">Disabled</button>
      </div>
    </div>

    <!-- Theme Selector -->
    <div class="settings-group card">
      <label>Theme</label>
      <div class="theme-selector">
        <button class="theme-button selected" data-theme="purple"></button>
        <button class="theme-button" data-theme="blue"></button>
        <button class="theme-button" data-theme="green"></button>
        <button class="theme-button" data-theme="pink"></button>
        <button class="theme-button" data-theme="orange"></button>
        <button class="theme-button" data-theme="red"></button>
        <button class="theme-button" data-theme="yellow"></button>
        <button class="theme-button" data-theme="white"></button>
      </div>
    </div>

    <!-- Reset All Button -->
    <div class="settings-group">
      <button id="resetAllButton" class="menu-button reset-button">Reset All Settings & Data</button>
    </div>

  </div>

  <!-- Record Log Page -->
  <div id="recordLogPage" class="page-container hidden">
    <div class="calculator-header">
      <h1>Record Log</h1>
      <button id="backToMenuFromRecordLog" class="back-button">‚Üê Back</button>
    </div>
    <div id="recordLogList" class="record-log-list">
      <!-- Record items will be dynamically loaded here -->
      <!-- "No records saved yet." message is handled by JS -->
    </div>
  </div>

  <!-- Calculator Footer Bar -->
  <div id="calculatorFooter" class="calculator-footer-bar hidden">
    <button id="clearAllBtn" class="footer-button clear-button">üóëÔ∏è Clear All</button>
    <button id="completeBtn" class="footer-button complete-button">üíæ Complete</button>
  </div>

  <!-- Record Log Footer Bar -->
  <div id="recordLogFooter" class="record-log-footer-bar hidden">
    <button id="downloadAllRecordsBtn" class="footer-button download-all-button">‚¨áÔ∏è Download All</button>
  </div>

  <script src="../js/utils.js"></script>
  <script src="../js/recordLog.js"></script>
  <script src="../js/main.js"></script>
</body>
</html>